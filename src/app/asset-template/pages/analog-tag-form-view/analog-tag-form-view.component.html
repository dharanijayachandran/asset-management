<!-- <div class="row">
  <div class="col-md-12">
    <h1 i18n="@@AssetTemplate" class="page-header">
      Asset Template <span class="text_normal">{{name}}</span> 
    </h1>
  </div>
</div> -->

<div class="row margin_0px rowBox">
  <div class="col-md-12 padding_0px">
    <div class="padding_Form">
      <!-- Analog form view starts here  -->
      <form [formGroup]="analogForm" novalidate (ngSubmit)="previewAnalog()">
        <div class="form-group-custom1">
          <legend i18n="Page header|Analog Tag Details@@analogTagDetails" class="m-b-15">Analog Tag Details</legend>
          <div class="formBodyCustom1" id="analogDetail">
            <div class="m-form__group row">
              <div class="col-lg-6">
                <label i18n="Name|Name@@name*" class="">Name<span class="text-danger">*</span></label>
                <div class="form-group">
                  <div [ngClass]="{'has-error': ((analogForm.get('name').touched ||
                              analogForm.get('name').dirty) &&
                              analogForm.get('name').errors)}">
                    <input (keyup)="onKey($event)" type="text" formControlName="name" class="form-control m-input"
                      i18n-placeholder="Analog Tag Name placeholderEnter Analog Tag Name@@analogTagName.placeholder"
                      placeholder="Enter Analog Tag Name">
                    <span class="help-block" *ngIf="((analogForm.get('name').touched ||
                                        analogForm.get('name').dirty) &&
                                        analogForm.get('name').errors)">
                      <span i18n="Message|Please enter Analog Tag Name@@analogTagName.message"
                        *ngIf="(analogForm.get('name').errors.required || analogForm.get('name').errors.whitespace)">
                        Please enter Analog Tag Name
                      </span>
                      <span i18n="Message|Please enter less than 100 Characters@@analogTagName.message1"
                        *ngIf="analogForm.get('name').errors.maxlength" class="display_inherit">
                        Please enter less than 100 Characters
                      </span>
                      <span i18n="Message|Please enter valid Characters@@analogTagName.message3"
                        *ngIf="analogForm.get('name').errors.pattern">
                        Please enter valid Characters
                      </span>
                      <span>
                      </span>
                    </span>
                  </div>
                </div>
                <label i18n="Data Type|Data Type@@dataType*" class="">Data Type<span
                    class="text-danger">*</span></label>
                <div class="form-group">
                  <div [ngClass]="{'has-error': ((analogForm.get('dataTypeId').touched ||
                  analogForm.get('dataTypeId').dirty) &&
                  analogForm.get('dataTypeId').errors)}">
                  <ejs-dropdownlist id='ddlelement' #ddlelement class="form-control p-0" [value]='dataTypeId'
                  name="dataTypeId" formControlName="dataTypeId" [dataSource]='dataTypeList'
                  [placeholder]='dataTypeWaterMark' [fields]='dataTypeFields' [popupHeight]='height'
                  [sortOrder]="sortDropDown" (filtering)='onFilteringDataType($event)'
                  [filterBarPlaceholder]="filterPlaceholder" [allowFiltering]='true'
                  (change)='dataTypeChange($event)' [locale]='locale'></ejs-dropdownlist>
                    <!-- <select (change)="dataTypeChange($event)" formControlName="dataTypeId" class="form-control m-input">
                      <option i18n="Option|Select@@select" [ngValue]="null">--Select--</option>
                      <option [value]="dataType.id" *ngFor="let dataType of dataTypeList">{{dataType.name}}</option>
                    </select> -->
                    <span class="help-block" *ngIf="((analogForm.get('dataTypeId').touched ||
                    analogForm.get('dataTypeId').dirty) &&
                    analogForm.get('dataTypeId').errors)">
                      <span i18n="Message|Please select Data Type@@dataType.message"
                        *ngIf="analogForm.get('dataTypeId').errors.required">
                        Please select Data Type
                      </span>
                    </span>
                  </div>
                </div>
              </div>
              <div class="col-lg-6">
                <label i18n="Description|Description@@description" class="">Description</label>
                <div class="form-group">
                  <textarea type="text" id="description" formControlName="description"
                    class="form-control m-input textAreaHeight"
                    i18n-placeholder="Description placeholder|Enter Description@@description.placeholder"
                    placeholder="Enter Description"></textarea>
                </div>
              </div>
            </div>
            <div class="m-form__group row">
              <div class="col-lg-6">
                <label i18n="Engineering Unit|Engineering Unit@@engineeringUnit" class="">Engineering Unit</label>
                <div class="form-group">
                  <div>
                    <ejs-dropdownlist id='ddlelement' #ddlelement class="form-control p-0" [value]='engUnitId'
                    name="engUnitId" formControlName="engUnitId" [dataSource]='unitIdList'
                    [placeholder]='engUnitWaterMark' [fields]='engUnitFields' [popupHeight]='height'
                    [sortOrder]="sortDropDown" (filtering)='onFilteringEngUnit($event)'
                    [filterBarPlaceholder]="filterPlaceholder" [allowFiltering]='true'
                    (change)='engUnitChange($event)' [locale]='locale'></ejs-dropdownlist>
                    <!-- <select (change)="engUnitChange($event)" formControlName="engUnitId" class="form-control m-input">
                      <option i18n="Option|Select@@select" [ngValue]="null">--Select--</option>
                      <option [value]="unit.id" *ngFor="let unit of unitIdList">{{unit.name}}</option>
                    </select> -->
                  </div>
                </div>
              </div>
              <div class="col-lg-6">
                <label i18n="Organization Standard Tag|Organization Standard Tag@@organizationStandardTag" class="">Organization Standard
                  Tag</label>
                <div class="form-group">
                  <div>
                    <ejs-dropdownlist id='ddlelement' #ddlelement class="form-control p-0" [value]='orgAssetStandardTagId'
                    name="orgAssetStandardTagId" formControlName="orgAssetStandardTagId" [dataSource]='assetStandardTagList'
                    [placeholder]='assetStandardTagMark' [fields]='assetStandardTagFields' [popupHeight]='height'
                    [sortOrder]="sortDropDown" (filtering)='onFilteringAssetStandardTag($event)'
                    [filterBarPlaceholder]="filterPlaceholder" [allowFiltering]='true'
                    (change)='assetStandardTagChange($event)' [locale]='locale'></ejs-dropdownlist>
                    <!-- <select (change)="assetStandardTagChange($event)" formControlName="orgAssetStandardTagId"
                      class="form-control m-input">
                      <option i18n="Option|Select@@select" [ngValue]="null">--Select--</option>
                      <option [value]="assetStandardTag.id" *ngFor="let assetStandardTag of assetStandardTagList">
                        {{assetStandardTag.name}}</option>
                    </select> -->
                  </div>
                </div>
              </div>
            </div>
            <div class="m-form__group row">
              <div class="col-lg-6">
                <label i18n="Status|Status@@status">Status</label>
                <div class="form-group">
                  <mat-radio-group formControlName="status">
                    <mat-radio-button value="Active" i18n="Radio button|Active@@active" style="margin-right: 20px;">
                      Active
                    </mat-radio-button>
                    <mat-radio-button value="In_Active" i18n="Radio button|InActive@@inActive">In-Active</mat-radio-button>
                  </mat-radio-group>
                </div>
              </div>
              <div class="col-lg-6">
                <label>Order</label>
                <input  type="number" formControlName="displayOrder" class="form-control m-input"
                      placeholder="Enter Analog Tag Order" >
              </div>
            </div>
          </div>
        </div>
        <div class="path"></div>
        <div class="form-group-custom1">
          <legend i18n="Header|Input Configuration@@inputConfiguration" class="m-b-15">Input Configuration</legend>
          <div class="formBodyCustom1">
            <div class="m-form__group row form-group">
              <div class="col-lg-2 col-md-5">
                <label i18n="Input Enabled|Input Enabled@@inputEnabled" class="" style="display: block;">Input
                  Enabled</label>
              </div>
              <div class="col-md-7">
                <mat-checkbox i18n="@@isInputEnabled" [checked]="isInputEnabled" (change)="isInputEnabledChange($event)"
                  formControlName="isInputEnabled"></mat-checkbox>
              </div>
            </div>
            <!-- Injecting Asset input enabled -->
            <ng-container *ngIf="isInputExpandCollapse">
              <div class="m-form__group row">
                <div class="col-lg-6">
                  <label
                    i18n="{{this.gatewayAndTemplateLableName}}|{{this.gatewayAndTemplateLableName}}@@{{this.gatewayAndTemplateLableName}}"
                    class="">{{this.gatewayAndTemplateLableName}}</label>
                  <div class="form-group">
                    <div>
                      <input disabled type="text" class="form-control m-input"
                        i18n-placeholder="{{this.gatewayAndTemplateLableName}} placeholder|Enter {{this.gatewayAndTemplateLableName}}@@{{this.gatewayAndTemplateLableName}}.placeholder"
                        placeholder="Enter {{this.gatewayAndTemplateLableName}}"
                        [value]="assetTemplateDetail.gatewayTemplateName">
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <label i18n="I/O Tag|Input/Output Tag@@iOTag" class="">I/O Tag<span *ngIf="isInputEnabled==true"
                      class="text-danger">*</span></label>
                  <div class="form-group">
                    <div>
                      <ejs-dropdownlist id='ddlelement' #ddlelement class="form-control p-0" [value]='gatewayITagId'
                      name="gatewayITagId" formControlName="gatewayITagId" [dataSource]='inputList'
                      [placeholder]='ITagWaterMark' [fields]='ITagFields' [popupHeight]='height'
                      [sortOrder]="sortDropDown" (filtering)='onFilteringITag($event)'
                      [filterBarPlaceholder]="filterPlaceholder" [allowFiltering]='true'
                      (change)='gatewayITagName($event)' [locale]='locale'></ejs-dropdownlist>
                      <!-- <select (change)="gatewayITagName($event)" formControlName="gatewayITagId"
                        class="form-control m-input">
                        <option i18n="Option|Select@@select" [ngValue]="null">--Select--</option>
                        <option [value]="inputOutput.id" *ngFor="let inputOutput of inputList">{{inputOutput.name}}
                        </option>
                      </select> -->
                      <span class="help-block" *ngIf="isInputEnabled==true">
                        <span i18n="Message|Please select input io tag@@IoTag.message"
                          *ngIf="analogForm.controls['gatewayITagId'].value==null">
                          Please select gateway input tag
                        </span>
                      </span>
                    </div>
                  </div>
                </div>
              </div>
              <app-asset-input-output [group]="analogForm.controls.assetInputGatewayIoTagAnalog">
              </app-asset-input-output>
            </ng-container>
          </div>
        </div>
        <div class="path"></div>
        <div class="form-group-custom1">
          <legend i18n="Header|Output Configuration@@outputConfiguration" class="m-b-15">Output Configuration</legend>
          <div class="formBodyCustom1">
            <div class="m-form__group row form-group">
              <div class="col-lg-2 col-md-5">
                <label i18n="Output Enabled|Output Enabled@@outputEnabled" class="" style="display: block;">Output
                  Enabled</label>
              </div>
              <div class="col-md-7">
                <mat-checkbox i18n="@@outputExpanded" formControlName="isOutputEnabled" [checked]="isOutputEnabled"
                  (change)="isOutputEnabledOnChange($event)"></mat-checkbox>
              </div>
            </div>
            <!-- Injecting Asset Output enabled -->
            <ng-container *ngIf="isOutputExpandCollapse">
              <div class="m-form__group row">
                <div class="col-lg-6">
                  <label
                    i18n="{{this.gatewayAndTemplateLableName}}|{{this.gatewayAndTemplateLableName}}@@{{this.gatewayAndTemplateLableName}}"
                    class="">{{this.gatewayAndTemplateLableName}}</label>
                  <div class="form-group">
                    <div>
                      <input disabled type="text" class="form-control m-input"
                        i18n-placeholder="{{this.gatewayAndTemplateLableName}} placeholder|Enter {{this.gatewayAndTemplateLableName}}@@{{this.gatewayAndTemplateLableName}}.placeholder"
                        placeholder="Enter {{this.gatewayAndTemplateLableName}}"
                        [value]="assetTemplateDetail.gatewayTemplateName">
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <label i18n="I/O Tag|Input/Output Tag@@iOTag" class="">I/O Tag<span *ngIf="isOutputEnabled==true"
                      class="text-danger">*</span></label>
                  <div class="form-group">
                    <div>
                      <ejs-dropdownlist id='ddlelement' #ddlelement class="form-control p-0" [value]='gatewayOTagId'
                      name="gatewayOTagId" formControlName="gatewayOTagId" [dataSource]='outputList'
                      [placeholder]='OTagWaterMark' [fields]='OTagFields' [popupHeight]='height'
                      [sortOrder]="sortDropDown" (filtering)='onFilteringOTag($event)'
                      [filterBarPlaceholder]="filterPlaceholder" [allowFiltering]='true'
                      (change)='gatewayOTagName($event)' [locale]='locale'></ejs-dropdownlist>
                      <!-- <select (change)="gatewayOTagName($event)" formControlName="gatewayOTagId"
                        class="form-control m-input">
                        <option i18n="Option|Select@@select" [ngValue]="null">--Select--</option>
                        <option [value]="inputOutput.id" *ngFor="let inputOutput of outputList">{{inputOutput.name}}
                        </option>
                      </select> -->
                      <span class="help-block" *ngIf="isOutputEnabled==true">
                        <span i18n="Message|Please select input io tag@@IoTag.message"
                          *ngIf="analogForm.controls['gatewayOTagId'].value==null">
                          Please select gateway output tag
                        </span>
                      </span>
                    </div>
                  </div>
                </div>
              </div>
              <app-asset-input-output [group]="analogForm.controls.assetOutputGatewayIoTagAnalog">
              </app-asset-input-output>
            </ng-container>
          </div>
        </div>
        <div class="path finalLine"></div>
        <span class="help-block pull-right" *ngIf="!saveEnable"
          i18n="Tooltip validation|Please select input or output configuration@@pleaseSelectInputOrOutputConfiguration">Please
          select input or output configuration</span>
        <div class="row" style="    text-align: right;padding: 23px 0;">
          <div class="col-md-12">
            <a (click)="cancelanalogForm($event)">
              <button type="button" id="cancelAnalog" class="btn btn-default text-center cancelActionButton"
                i18n="Cancel button|Cancel@@cancel"> Cancel
              </button>
            </a>
            &nbsp;
            <button type="button" class="btn btn-secondary text-center resetActionButton"
              [disabled]="!analogForm.dirty && analogForm.pristine" (click)="resetAnalogForm()"
              i18n="Reset button|Reset@@reset"> Reset
            </button>
            &nbsp;
            <span i18n-matTooltip="Tooltip validation|Fill the mandatory fields@@fillTheMandatoryFields"
              matTooltip="Fill the mandatory fields" [matTooltipDisabled]="analogForm.valid">
              <a>
                <button i18n="Review&Save button|Review&Save@@review&Save"
                  class="btn btn-primary text-center reviewAndSaveActionButton" type="submit"
                  [disabled]="!(analogForm.valid && saveEnable)">
                  Review & Save</button>
              </a>
            </span>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<app-modal-notification (modelNotificationWarning)="alertRedirection()"></app-modal-notification>